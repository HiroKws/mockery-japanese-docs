::: {.index}
single: モッキング; インスタンス
:::

インスタンスモッキング
======================

インスタンスモッキングとは、次のような文を指します。

``` {.php}
$obj = new \MyNamespace\Foo;
```

実際のモックオブジェクトを生成します。これはエイリアスモックと似ており、Publicメソッドをモックするインスタンスモックで、実際のクラスを置き換えることにより実現します。エイリアスはエクスペクションをオリジナルモックのタイプよりインポートします。（オリジナルは検証されることがなく、エクスペクションがセットされた後では無視されることに留意してください。）これにより、代替オブジェクトをシンプルに置き換えられない場合に、インスタンス化を横取りできるようになります。

前述のように、これは実際のクラスをincludeするrequire文を妨げないため、PHPのFatalエラーを発生させます。主なクラスのローディングメカニズムであるオートローディングを使用する目的で用意されています。
